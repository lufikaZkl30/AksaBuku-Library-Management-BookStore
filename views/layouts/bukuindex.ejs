<div class="container">
  <section class="sec">
      <h1 class="pheading"><%= title %></h1>
      <div class="products">
          <% 
              var randomBooks = shuffle(books).slice(0, 3);
              randomBooks.forEach(function(book) { 
          %>
              <div class="card" onclick="showBookDetail('<%= book._id %>')">
                  <div class="img"><img src="<%= book.imageUrl %>"></div>
                  <div class="desc"><%= title %></div>
                  <div class="title truncate-text"><%= book.judul %></div>
                  <div class="penulis">Penulis: <%= book.author %></div>
                  <div class="box">
                      <div class="price">Rp. <%= book.harga.toLocaleString('id-ID') %></div>
                      <button class="btn">Buy Now</button>
                  </div>
              </div>
          <% }); %>
      </div>
  </section>
</div>

<script>
  // Fungsi untuk mengacak array
  function shuffle(array) {
      var currentIndex = array.length, temporaryValue, randomIndex;

      // Selama masih ada elemen untuk diacak
      while (0 !== currentIndex) {

          // Pilih elemen tersisa
          randomIndex = Math.floor(Math.random() * currentIndex);
          currentIndex -= 1;

          // Tukar dengan elemen saat ini
          temporaryValue = array[currentIndex];
          array[currentIndex] = array[randomIndex];
          array[randomIndex] = temporaryValue;
      }

      return array;
  }
</script>
